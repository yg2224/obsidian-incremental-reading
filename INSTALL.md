# Obsidian Incremental Reading Plugin v2.0.0 安装和使用指南

## 🎉 v2.0.0 重大更新

### 新增功能

1. **🔧 自定义指标系统**
   - 支持 1-10 个自定义评估指标
   - 每个指标可设置名称和权重（自动归一化为100%）
   - 默认指标：重要性 40%、紧急度 30%、完成度 30%
   - 完全移除了固定的"手动优先级"指标

2. **⚡ 实时排行榜更新**
   - 评分滑块调整时立即更新排行榜
   - 无需手动刷新，实时查看文档优先级变化
   - 性能优化，只更新相关部分

3. **📁 批量文件添加**
   - 支持添加整个文件夹（递归包含所有Markdown文件）
   - 多选文件功能，支持搜索过滤
   - 文件数量限制（最大1000文件）避免性能问题

4. **🎨 全新设置界面**
   - 直观的自定义指标配置
   - 动态权重调整和归一化
   - 支持中文指标名称

## 安装步骤

### 1. 手动安装

1. 下载插件文件（确保包含以下文件）：
   - `main.js` - 编译后的主文件
   - `manifest.json` - 插件配置文件
   - `styles.css` - 样式文件

2. 在 Obsidian 中：
   - 打开设置 (`Ctrl/Cmd + ,`)
   - 转到 "第三方插件"
   - 关闭"安全模式"
   - 点击"浏览社区插件"
   - 关闭弹窗，点击"已安装插件"
   - 选择"从文件夹安装插件"
   - 选择包含插件文件的文件夹

### 2. 验证安装

安装成功后，你应该能看到：
1. 左侧工具栏中的书本图标 📖
2. 命令面板中以下新增命令：
   - "添加文件夹到漫游"
   - "多选文件到漫游"
   - "添加至漫游"
   - "继续漫游"
   - "智能推荐"
   - "随机漫游"

## 使用指南

### 基本使用流程

1. **添加文档到漫游列表**
   - 打开想要添加的 Markdown 文档
   - 使用命令 "添加至漫游" 或点击界面上的"加入漫游"按钮
   - 或者使用"添加文件夹"批量添加多个文档

2. **自定义评估指标**
   - 打开插件设置
   - 调整指标数量（1-10个）
   - 为每个指标设置名称和权重
   - 系统会自动将权重归一化为100%

3. **为文档评分**
   - 在漫游界面中点击文档的评分按钮
   - 根据自定义指标调整各项评分
   - 滑块调整时实时查看排行榜变化

4. **开始漫游阅读**
   - 使用"继续漫游"功能，系统会根据评分推荐文档
   - 或者使用"智能推荐"获得基于内容的推荐
   - "随机漫游"提供随机的文档选择

### 高级功能

#### 批量文件管理
- **添加文件夹**：递归添加文件夹内所有Markdown文件
- **多选文件**：使用搜索功能批量选择特定文件
- **文件过滤**：在设置中配置排除路径模式

#### 实时更新
- 评分时排行榜实时更新
- 滑块拖动即时反馈
- 无需手动刷新界面

#### 推荐算法
- 基于自定义指标的加权评分
- TF-IDF 相似性分析
- 访问历史和时间因素考虑

## 设置说明

### 自定义指标设置
- **指标数量**：设置想要使用的评估指标数量
- **指标名称**：为每个指标设置有意义的名称
- **指标权重**：调整每个指标在总评分中的重要性

### 智能推荐设置
- **锚点数量**：控制推荐算法使用的基准文档数量
- **推荐数量**：设置返回的推荐文档数量
- **候选文档数**：影响推荐质量和性能的平衡

### 文档过滤设置
- **排除路径**：设置不想包含在漫游中的文件夹
- 支持通配符模式（如 `Templates/*`、`Archive/**`）

## 故障排除

### 常见问题

1. **插件不显示**
   - 确保安全模式已关闭
   - 检查文件是否完整（main.js、manifest.json、styles.css）
   - 重启 Obsidian

2. **编译错误**
   - 确保 Node.js 已安装
   - 运行 `npm install` 安装依赖
   - 运行 `npm run build` 重新编译

3. **文件添加失败**
   - 检查文件是否为 Markdown 格式
   - 确认文件路径不在排除列表中
   - 检查文件数量是否超过1000个限制

4. **设置保存失败**
   - 检查 Obsidian 是否有写入权限
   - 确保指标权重总和不为0
   - 重启插件尝试重新设置

### 性能建议

1. **大库优化**
   - 使用排除路径过滤不必要的文件夹
   - 控制候选文档数量在合理范围内
   - 避免一次性添加过多文件

2. **指标优化**
   - 建议使用3-5个指标以保持平衡
   - 合理分配权重避免单个指标占比过高
   - 定期清理不再使用的文档

## 更新日志

### v2.0.0 (2024-12-09)
- ✨ 全新的自定义指标系统
- ⚡ 实时排行榜更新功能
- 📁 批量文件添加支持
- 🎨 重构设置界面
- 🐛 修复多项性能问题
- 📚 完善文档和样式

### v1.0.1
- 初始版本发布
- 基础漫游功能
- 智能推荐算法
- 五维指标评估

## 技术支持

如果遇到问题，请：
1. 检查本文档的故障排除部分
2. 查看 Obsidian 控制台的错误信息
3. 在 GitHub 上提交 Issue

---

**享受您的智能漫游阅读体验！** 🚀📚